version: '3.8'

x-flight-checker: &flight-checker-base
  build: .
  environment:
    - VNC_PW=flightcheck
    - RESOLUTION=1280x720
  shm_size: 2gb
  volumes:
    - ./config.yml:/app/config.yml
    - ./price_history.json:/app/price_history.json
  restart: unless-stopped

services:
  flight-checker-1:
    <<: *flight-checker-base
    container_name: flight-checker-1
    ports:
      - "6901:80"    # Web VNC
      - "5901:5900"  # VNC direct

  flight-checker-2:
    <<: *flight-checker-base
    container_name: flight-checker-2
    ports:
      - "6902:80"    # Web VNC
      - "5902:5900"  # VNC direct
